<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å - –ú–∞–≥–∞–∑–∏–Ω —Ç–æ–≤–∞—Ä–æ–≤ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <span>üõçÔ∏è</span>
                <h1>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
            </div>
            <nav>
                <button onclick="showSection('stats')">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                <button onclick="showSection('products')">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</button>
                <button onclick="logout()">–í—ã–π—Ç–∏</button>
            </nav>
        </div>
    </header>

    <main>
        <section id="statsSection" class="admin-section">
            <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</h2>
            <div class="stats-container">
                <div class="stat-card">
                    <h3>–í—Å–µ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</h3>
                    <p id="totalClicks">0</p>
                </div>
                <div class="stat-card">
                    <h3>–°–∞–º–∞—è –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
                    <p id="popularCategory">-</p>
                </div>
                <div class="stat-card">
                    <h3>–°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ç–æ–≤–∞—Ä</h3>
                    <p id="popularProduct">-</p>
                </div>
            </div>
            
            <div class="clicks-list">
                <h3>–ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</h3>
                <table id="clicksTable">
                    <thead>
                        <tr>
                            <th>–¢–æ–≤–∞—Ä</th>
                            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                            <th>–í—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∞</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- –î–∞–Ω–Ω—ã–µ –æ –∫–ª–∏–∫–∞—Ö –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                    </tbody>
                </table>
            </div>
        </section>

        <section id="productsSection" class="admin-section" style="display:none;">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h2>
            <button onclick="showProductModal()" class="add-product-btn">+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
            
            <div class="admin-products-container" id="adminProductsContainer">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è -->
            </div>
        </section>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <h2 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h2>
            <input type="text" id="productName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞">
            <textarea id="productDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞"></textarea>
            <input type="text" id="productPrice" placeholder="–¶–µ–Ω–∞">
            <input type="text" id="productCategory" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è">
            <input type="text" id="productImage" placeholder="URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
            <input type="text" id="productLink" placeholder="–°—Å—ã–ª–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞">
            <div class="modal-buttons">
                <button onclick="saveProduct()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button onclick="closeProductModal()" class="cancel-btn">–û—Ç–º–µ–Ω–∞</button>
            </div>
            <span class="close" onclick="closeProductModal()">&times;</span>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        document.addEventListener('DOMContentLoaded', function() {
            if (!isLoggedIn()) {
                window.location.href = 'index.html';
                return;
            }
            
            showSection('stats');
            renderAdminProducts();
            updateStats();
        });
    </script>
</body>
</html>